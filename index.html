<!DOCTYPE html>
<html>
  <head>
    <title>Simple Map</title>
    <meta name="viewport" content="initial-scale=1.0">
    <meta charset="utf-8">
    <style>
      /* Always set the map height explicitly to define the size of the div
       * element that contains the map. */
      #map {
        height: 100%;
      }
      /* Optional: Makes the sample page fill the window. */
      html, body {
        height: 100%;
        margin: 0;
        padding: 0;
      }
    </style>
  </head>
  <body>
    <div id="map_canvas" style="width: 980; height: 720;"></div>
	<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyA2Yjx1ZnXgIfD1MTLjJNT9PD-GEjwtuFY&callback=initMap" async defer></script>
     <script type="text/javascript" src="https://maps.google.com/maps/api/js?key=AIzaSyA2Yjx1ZnXgIfD1MTLjJNT9PD-GEjwtuFY&libraries=places" charset="utf-8"></script>
     <script type="text/javascript">
       // マップの初期設定
var myMap;
var service;
var latlng = new google.maps.LatLng(35.665361, 139.761028);
var icon = new google.maps.MarkerImage('https://www.fujitsu.com/imgv5/common/symbolmark.png',new google.maps.Size(65,57),new google.maps.Point(0,0));

function initialize() {
	// googleマップ表示設定
	var initPos = latlng;
	var opts = {
		zoom: 18,
		center: initPos,
		mapTypeId: google.maps.MapTypeId.ROADMAP,
		scrollwheel: true,
		scaleControl: true,
        panControl:true,
	};
	var myMap = new google.maps.Map(document.getElementById("map_canvas"), opts);

    // googleマップマーカー設定
	var markerOptions = {
		position: initPos,
		map: myMap,
		icon: icon,
		title: 'Shiodome'
	};
	var marker = new google.maps.Marker(markerOptions);

	// 検索の条件を指定（緯度経度、半径、検索の分類）
	var request = {
		location: initPos,
		radius: 500,
		types: ['taxi_stand']
	};
	var service = new google.maps.places.PlacesService(myMap);
	service.search(request, Result_Places);
}

// 検索結果を受け取る
function Result_Places(results, status){
	if(status == google.maps.places.PlacesServiceStatus.OK) {
		for (var i = 0; i < results.length; i++) {
			var place = results[i];
			createMarker({
				 text : place.name,
				 position : place.geometry.location
			});
		}
	}
}
// ページ読み込み完了後、Googleマップを表示
google.maps.event.addDomListener(window, 'load', initialize);
</script>
</body>
</html>
